# 栄冠ナイン成長システム詳細仕様書
## 本家リバースエンジニアリング調査結果

**作成日**: 2025-08-13  
**調査対象**: 本家パワプロ 栄冠ナイン  
**目的**: 本家と同様の成長曲線を実現するシステム設計

---

## 🔍 調査結果サマリー

### 本家栄冠ナインの核心要素
1. **ゲージベース成長システム**: 経験値 → ゲージ蓄積 → ステータス上昇
2. **段階的成長効率**: 初期は非常に困難、設備・アイテムで劇的改善
3. **3年縛り難易度**: 初期3年でオールB達成が困難
4. **長期目標設定**: 設備充実後にオールA・S級選手育成可能

---

## 📊 能力値システム（本家準拠）

### G〜S段階評価システム
```
G(1) = 最低値  
F(2) = 低い    
E(3) = やや低い
D(4) = 普通    
C(5) = やや高い
B(6) = 高い    
A(7) = 非常に高い
S(8) = 最高値  
```

### 総合戦力計算基準
- **D等級**: 平均2.2以上で昇格
- **C等級**: 平均3.2以上で昇格  
- **B等級**: 平均4.0以上で昇格
- **A等級**: 平均5.0以上で昇格

### 具体的能力値例（球速換算）
```
G(1) = 134km/h以下
F(2) = 135-137km/h
E(3) = 138-140km/h  
D(4) = 141-143km/h
C(5) = 144km/h以上
```

---

## ⚡ 練習効率システム（本家解析）

### グラウンドレベル効果
- **レベル1**: 基準値（1.0倍）
- **レベル99**: 1.5倍の経験値獲得

### 練習効率ブースト
```
小ブースト: 約2倍効果
中ブースト: 約5倍効果  
大ブースト: 約6倍効果
```

### ブースト発生条件
1. **アイドルイベント**: ランダム発生、積極的追跡推奨
2. **青/白パネル**: ランダムイベント
3. **固定スケジュール**: クリスマスイブなど
4. **体力管理**: 全選手体力MAX維持必須
5. **天候対策**: 雨・雪時の効率低下対策

### 練習カード経験値例
```
基本スイング: +40経験値
ミット打撃: +60経験値  
ティー打撃: +80経験値
マシン打撃: +100経験値
```

---

## 🎯 3年成長目標（本家基準）

### 投手育成目標
**1年目**
- 制球: G → F → E
- 球速: 134km/h → 140km/h
- 変化球: 1種類習得

**2年目** 
- 制球: E → D → C
- 球速: 140km/h → 145km/h  
- 変化球: 2種類、総変化量5

**3年目**
- 制球: C → B（目標）
- 球速: 145km/h → 150km/h（目標）
- 変化球: 3種類、総変化量7-10

### 野手育成目標
**優先順位**
1. **内野守備**: D→C必須（特にセカンド・ショート）
2. **走力**: C→B推奨
3. **ミート力**: E→D→C
4. **パワー**: 最後に強化

**3年目標値**
- 守備力: C以上（内野）
- 走力: C以上
- ミート: D以上
- パワー: E以上（初期は困難）

---

## 🏗️ システム実装仕様

### 成長ゲージシステム
```javascript
// 能力別ゲージ（0-100）
statGages: {
  serve_skill_gage: 0,      // サーブスキル
  return_skill_gage: 0,     // リターンスキル  
  volley_skill_gage: 0,     // ボレースキル
  stroke_skill_gage: 0,     // ストロークスキル
  mental_gage: 0,           // メンタル
  stamina_gage: 0           // スタミナ
}
```

### 初期成長効率（本家準拠の困難さ）
```javascript
initialEfficiency: {
  serve_skill_efficiency: 0.08,     // 8%（非常に困難）
  return_skill_efficiency: 0.10,    // 10%（困難）
  volley_skill_efficiency: 0.05,    // 5%（最困難）
  stroke_skill_efficiency: 0.12,    // 12%（比較的習得しやすい）
  mental_efficiency: 0.15,          // 15%（個人差大）
  stamina_efficiency: 0.20          // 20%（基礎体力）
}
```

### 設備による効率向上
```javascript
facilityBoosts: {
  basic_court: 0.10,        // +10%
  advanced_court: 0.30,     // +30%
  practice_equipment: 0.20, // +20%
  coaching_staff: 0.25,     // +25%
  medical_support: 0.15,    // +15%
  premium_racket: 0.20,     // +20%
  training_shoes: 0.10      // +10%
}
```

### ゲージ満タン時の処理
```javascript
function processGageFull(skill, currentLevel) {
  // ゲージが100に達した時の処理
  if (gage >= 100) {
    // レベル1上昇
    newLevel = Math.min(currentLevel + 1, 8); // S(8)が上限
    
    // ゲージリセット
    newGage = 0;
    
    // 次レベル必要経験値は同じ（100）
    // ただし、効率によって蓄積速度が異なる
  }
}
```

---

## 🎮 実装上の重要ポイント

### 1. 初期の困難さの再現
- **3年でオールB困難**: 初期効率5-20%で実現
- **設備なしプレイ**: ほとんど成長しない体験
- **資金管理重要性**: 設備投資の戦略性

### 2. 段階的な改善体験
- **設備投資効果**: 目に見える成長効率向上
- **複合効果**: 複数設備による相乗効果
- **長期目標**: オールA・S級選手への道筋

### 3. バランス調整指針
```
初期状態: 100回練習 → 1-2回ステータス上昇
設備後: 100回練習 → 10-15回ステータス上昇
最適化後: 100回練習 → 20-25回ステータス上昇
```

### 4. イベント・ブースト要素
- **ランダム要素**: アイドル・青白パネル
- **体力管理**: 効率に直結
- **天候対策**: アイテムによる効率維持
- **特殊練習**: カードシステム連携

---

## 📈 期待される成長曲線

### シナリオ1: 初期設備なし
```
1年目: 各スキル平均 G→F（1→2）
2年目: 各スキル平均 F→E（2→3）  
3年目: 各スキル平均 E→D（3→4）
結果: オールB困難、オールD達成が精一杯
```

### シナリオ2: 設備投資後
```
1年目: 各スキル平均 G→E（1→3）
2年目: 各スキル平均 E→C（3→5）
3年目: 各スキル平均 C→B（5→6）
結果: オールB達成可能
```

### シナリオ3: 最適化状態
```
2年目: 各スキル平均 C→A（5→7）
3年目: 各スキル平均 A→S（7→8）
結果: オールA・S級選手育成可能
```

---

## 🔧 技術実装チェックリスト

### データベース
- [ ] stat_gages JSONB カラム実装
- [ ] growth_efficiency JSONB カラム実装  
- [ ] facility_effects JSONB カラム実装
- [ ] 初期値設定スクリプト

### フロントエンド
- [ ] ゲージ表示UI（0-100プログレスバー）
- [ ] 効率表示（パーセンテージ）
- [ ] 設備管理インターフェース
- [ ] ブースト状態表示

### ゲームロジック
- [ ] 練習時ゲージ蓄積処理
- [ ] ゲージ満タン時レベル上昇
- [ ] 設備効果計算エンジン
- [ ] ブースト効果管理

### バランス調整
- [ ] 初期効率値の微調整
- [ ] 設備コスト最適化
- [ ] 3年成長曲線テスト
- [ ] オールB達成困難度確認

---

## 🎯 最終目標

**本家栄冠ナインと同等の体験**
1. 初期の成長困難さ
2. 設備投資の重要性  
3. 3年かけたオールB挑戦
4. 長期育成の充実感

この仕様により、プレイヤーは本家と同様の「最初は困難だが、設備を整えることで徐々に強い選手を育成できるようになる」体験を得られます。