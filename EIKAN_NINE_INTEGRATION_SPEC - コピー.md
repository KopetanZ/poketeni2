# ポケテニマスター - 栄冠ナイン統合仕様書

## 1. システム概要
栄冠ナインのゲームシステムをテニス部管理ゲームに適用し、より戦略性の高いゲーム体験を提供する。

## 2. カレンダー・マス目システム

### 2.1 マス目の種類とテニス部への適用

#### 基本マス
- **青マス（良いイベント）**: 
  - 部員の調子向上
  - 練習効率アップ
  - 資金獲得
  - 評判向上

- **赤マス（悪いイベント）**:
  - 部員の怪我・調子悪化
  - 練習効率低下
  - 資金減少
  - 評判低下

- **白マス（ランダムイベント）**:
  - 50%の確率で青または赤イベント
  - 新部員加入チャンス
  - ランダムなアイテム獲得

- **緑マス（体力回復）**:
  - 全部員のスタミナ回復
  - 調子改善
  - やる気向上

- **黄マス（練習効率）**:
  - 練習カードが乗った場合: 経験値1.5倍
  - そうでない場合: 白マスと同様

#### 特殊マス
- **分岐マス**: 3つのルートから選択
  - 安全ルート（緑・青マス中心）
  - リスクルート（赤マス多いが報酬大）
  - バランスルート

- **特訓マス**: 
  - 3人の部員からランダム選択
  - 特殊能力習得チャレンジ
  - 成功確率は部員のレベルと調子に依存

- **イベントマス**:
  - 入学式、テスト期間、文化祭等
  - 固定イベントで特別な効果

### 2.2 実装仕様

```typescript
interface CalendarSquare {
  id: string;
  type: 'blue' | 'red' | 'white' | 'green' | 'yellow' | 'branch' | 'training' | 'event';
  date: Date;
  effects: SquareEffect[];
  specialConditions?: SpecialCondition[];
}

interface SquareEffect {
  type: 'stat_change' | 'item_gain' | 'event_trigger';
  target: 'player' | 'team' | 'school';
  value: number;
  description: string;
}
```

## 3. 進行カード（プラクティスカード）システム

### 3.1 カードカテゴリ

#### 練習系カード
- **サーブ練習**: サーブスキル経験値+30
- **リターン練習**: リターンスキル経験値+30
- **ボレー練習**: ボレースキル経験値+30
- **ストローク練習**: ストロークスキル経験値+30
- **メンタル強化**: メンタル経験値+25
- **体力トレーニング**: スタミナ経験値+25
- **総合練習**: 全能力値に少量の経験値分散

#### 回復系カード
- **休養日**: 全部員のスタミナ50%回復
- **マッサージ**: 選択した部員のスタミナ完全回復
- **激励**: ランダムな部員の調子・やる気向上

#### 戦術系カード
- **他校視察**: 全部員の練習効率15%向上（3ターン）
- **個人指導**: 1人の部員の練習効率50%向上（1ターン）
- **コート整備**: 全部員の練習効率10%向上（5ターン）

#### 特殊系カード
- **スカウト活動**: 新部員加入チャンス
- **強化合宿**: 夏期間限定、特殊能力習得確率アップ
- **装備購入**: ショップでアイテム購入

### 3.2 カード希少度システム
- **ノーマル（白）**: 基本効果
- **レア（青）**: 効果1.5倍
- **エピック（紫）**: 効果2倍 + 追加効果
- **レジェンダリー（金）**: 効果3倍 + 複数追加効果

### 3.3 実装仕様

```typescript
interface PracticeCard {
  id: string;
  name: string;
  rarity: 'normal' | 'rare' | 'epic' | 'legendary';
  category: 'practice' | 'recovery' | 'tactical' | 'special';
  effects: CardEffect[];
  cost?: number;
  duration?: number;
  conditions?: UseCondition[];
}
```

## 4. 合宿システム（夏季特別イベント）

### 4.1 合宿の種類
- **基礎体力合宿**: スタミナ+50、体力系特殊能力習得チャンス
- **技術合宿**: 技術系能力値+30、技術系特殊能力習得チャンス
- **メンタル合宿**: メンタル+40、精神系特殊能力習得チャンス
- **総合強化合宿**: 全能力値+20、あらゆる特殊能力習得チャンス

### 4.2 参加条件
- 7-8月期間中
- 学校資金: 10,000円以上
- 部員の平均調子: 「普通」以上
- 合宿タイプごとの特別条件

### 4.3 効果
- 通常の特訓より2倍の特殊能力習得確率
- 参加部員全員に能力値ボーナス
- チーム結束力向上

## 5. 隠しマス（年間特殊イベント）

### 5.1 テニス部版隠しイベント

#### 春季（4-6月）
- **4/15**: 新入部員歓迎会（新部員のやる気+20）
- **5/20**: 中間テスト期間（全部員の練習効率-20%, 3ターン）
- **6/10**: インターハイ予選（勝利で評判+5、資金+5000円）

#### 夏季（7-9月）
- **7/15**: 夏休み開始（練習効率+30%, 2週間）
- **8/10**: 技術指導会（赤特殊能力除去チャンス）
- **8/20**: 特別強化合宿（特殊能力習得確率2倍）
- **9/1**: 新学期開始（全部員のやる気リセット）

#### 秋季（10-12月）
- **10/15**: 文化祭（資金+3000円、評判+2）
- **11/20**: 期末テスト（練習効率-25%, 2ターン）
- **12/24**: クリスマス（ランダム好イベント確定）

#### 冬季（1-3月）
- **1/10**: 新年初練習（やる気+15、全員）
- **2/14**: バレンタイン（女子部員からの差し入れで回復）
- **3/15**: 卒業式（3年生部員の引退処理）

### 5.2 実装仕様

```typescript
interface HiddenEvent {
  id: string;
  date: string; // MM-DD format
  name: string;
  description: string;
  triggerCondition?: EventCondition;
  effects: EventEffect[];
  isRepeating: boolean;
}
```

## 6. 学校設備・評判システム

### 6.1 コートレベルシステム
栄冠ナインのグランドレベルをテニスコートに適用

#### コートレベル
1. **レベル1（土コート）**: 練習効率+0%
2. **レベル2（改良土コート）**: 練習効率+15%
3. **レベル3（クレーコート）**: 練習効率+30%
4. **レベル4（ハードコート）**: 練習効率+50%
5. **レベル5（オムニコート）**: 練習効率+75%

#### 設備追加
- **ボールマシン**: サーブ・リターン練習効率+20%
- **ビデオ分析システム**: 戦術理解度向上
- **フィットネス機器**: 体力トレーニング効果+25%
- **シャワー設備**: 練習後の体力回復率向上
- **ナイター設備**: 夜間練習可能（練習回数+1）

### 6.2 学校評判システム

#### 評判レベル
1. **弱小校**: 進行選択肢4個、新入部員3人/年
2. **中堅校**: 進行選択肢5個、新入部員4人/年
3. **有力校**: 進行選択肢6個、新入部員5人/年
4. **強豪校**: 進行選択肢7個、新入部員6人/年
5. **名門校**: 進行選択肢8個、新入部員7人/年

#### 評判による効果
- **スカウト範囲拡大**: 地域→全国へ
- **転校生確率向上**: より強い選手の加入
- **初期能力向上**: 新入部員の基本能力値上昇
- **資金援助**: 後援会からの寄付増加

### 6.3 実装仕様

```typescript
interface SchoolFacilities {
  courtLevel: number;
  equipment: Equipment[];
  reputation: number;
  reputationLevel: 'weak' | 'average' | 'strong' | 'elite' | 'legendary';
}

interface Equipment {
  id: string;
  name: string;
  effect: FacilityEffect;
  maintenanceCost: number;
  durability: number;
}
```

## 7. 特殊能力習得システム

### 7.1 習得確率調整
栄冠ナインの確率システムをテニス向けに調整

#### 難易度別確率（通常時→超やる気時）
- **★**: 60% → 80%
- **★★**: 50% → 70%  
- **★★★**: 40% → 60%
- **★★★★**: 30% → 50%
- **★★★★★**: 20% → 40%

#### 成功率向上要素
- 部員レベル: +2%/レベル
- 調子状態: 絶好調+20%, 好調+10%
- コーチレベル: +5%/レベル（最大+25%）
- 設備ボーナス: 最大+15%
- 合宿期間: 確率2倍

### 7.2 テニス特殊能力分類

#### 金特（★★★★★）
- **雷光サーブ**: サーブ威力+30, エース確率+25%
- **完璧リターン**: リターン精度+25, カウンター確率+20%
- **奇跡ボレー**: ボレー技術+25, ネットプレー成功率+30%

#### 青特（★★★★）
- **パワーサーブ**: サーブ威力+20
- **クイックリターン**: リターン速度+15
- **ネットマスター**: ボレー技術+20

#### 緑特（★★★）
- **ラリーファイター**: 長期戦での能力向上
- **クラッチプレイヤー**: 重要な場面での能力向上

#### 赤特（マイナス効果）
- **ガラスのハート**: プレッシャーに弱い
- **スタミナドレイン**: 体力消費増加

## 8. システム統合の実装優先度

### Phase 1: 基盤システム
1. カレンダー・マス目システム
2. 進行カードシステム
3. 隠しイベントシステム

### Phase 2: 設備・評判システム  
1. コートレベルシステム
2. 学校評判システム
3. 設備管理システム

### Phase 3: 特殊システム
1. 合宿システム
2. 特殊能力習得確率調整
3. 年間イベントサイクル

## 9. データ設計

### 9.1 ゲーム進行データ
```typescript
interface GameProgress {
  currentDate: Date;
  currentSquare: CalendarSquare;
  availableCards: PracticeCard[];
  usedCards: PracticeCard[];
  schoolFacilities: SchoolFacilities;
  yearlyEvents: HiddenEvent[];
}
```

### 9.2 設定データ
```typescript
interface GameConfig {
  squareEffectMultiplier: number;
  specialAbilityBaseChance: number;
  facilityUpgradeCosts: number[];
  reputationThresholds: number[];
}
```

この仕様により、ポケテニマスターをより戦略性の高い栄冠ナイン風ゲームへと進化させることができます。